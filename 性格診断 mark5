<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>æœ›æœˆã®æ€§æ ¼è¨ºæ–­</title>
  <style>
    body {
      font-family: sans-serif;
      background-color: #f4f4f9;
      padding: 2rem;
    }
    .question {
      margin-bottom: 2rem;
      background-color: white;
      padding: 1rem;
      border-radius: 0.5rem;
      box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
    }
    .answers button {
      margin: 0.3rem;
      padding: 0.5rem 1rem;
      border: none;
      border-radius: 0.5rem;
      cursor: pointer;
      font-size: 1rem;
      transition: transform 0.1s ease, background-color 0.3s;
    }
    .answers button:hover {
      background-color: #ddd;
    }
    .answers button.selected {
      background-color: #90ee90 !important;
    }
    .answers button:active {
      transform: scale(0.95);
    }
    .result-category {
      margin-bottom: 1.5rem;
      padding: 1rem;
      border-left: 5px solid;
      border-radius: 0.75rem;
      background-size: cover;
      background-position: center;
      color: #333;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
    }
    #result {
      margin-top: 2rem;
      font-size: 1.1rem;
      white-space: pre-wrap;
    }
    .share-button {
      margin: 0.5rem;
      display: inline-block;
      padding: 0.5rem 1rem;
      background-color: #4caf50;
      color: white;
      border-radius: 0.5rem;
      text-decoration: none;
    }
  </style>
</head>
<body>
  <h1>æ€§æ ¼è¨ºæ–­</h1>
  <div id="quiz"></div>
  <div style="text-align: center; margin-top: 2rem;">
    <button onclick="showResult()" style="padding: 0.5rem 1rem; font-size: 1rem; border-radius: 0.5rem; cursor: pointer;">çµæœ</button>
  </div>
  <div id="result"></div>
  <script>
    const questions = [
      { text: "äººå‰ã§è©±ã™ã®ãŒå¥½ãã ã€‚", category: "extraversion" },
      { text: "æ–°ã—ã„å‹é”ã‚’ä½œã‚‹ã®ãŒå¾—æ„ã ã€‚", category: "extraversion" },
      { text: "æ„Ÿæƒ…ã‚’è¡¨ã«å‡ºã™ã‚¿ã‚¤ãƒ—ã ã€‚", category: "extraversion" },
      { text: "ä¸€äººã®æ™‚é–“ã‚’å¤§åˆ‡ã«ã—ã¦ã„ã‚‹ã€‚", category: "introversion" },
      { text: "é™ã‹ãªå ´æ‰€ãŒè½ã¡ç€ãã€‚", category: "introversion" },
      { text: "äººæ··ã¿ã§ã¯ç–²ã‚Œã‚„ã™ã„ã€‚", category: "introversion" },
      { text: "æ–°ã—ã„ã“ã¨ã«æŒ‘æˆ¦ã™ã‚‹ã®ãŒå¥½ãã ã€‚", category: "progressive" },
      { text: "ãƒ«ãƒ¼ãƒ«ã«ç¸›ã‚‰ã‚Œãšè‡ªç”±ã«è€ƒãˆã‚‹æ–¹ã ã€‚", category: "progressive" },
      { text: "å‹ç ´ã‚Šãªã‚¢ã‚¤ãƒ‡ã‚¢ã«æƒ¹ã‹ã‚Œã‚‹ã€‚", category: "progressive" },
      { text: "å¤‰åŒ–ã‚ˆã‚Šå®‰å®šã‚’å¥½ã‚€ã€‚", category: "conservative" },
      { text: "è¨ˆç”»ã‚’ç«‹ã¦ã‚‹ã®ãŒå¥½ãã ã€‚", category: "conservative" },
      { text: "æ˜”ãªãŒã‚‰ã®æ–¹æ³•ã‚’å¥½ã‚€ã€‚", category: "conservative" },
      { text: "ãƒªãƒ¼ãƒ€ãƒ¼ã‚·ãƒƒãƒ—ã‚’ã¨ã‚‹ã®ãŒå¥½ãã ã€‚", category: "leader" },
      { text: "ä»–äººã‚’ã¾ã¨ã‚ã‚‹ã®ãŒå¾—æ„ã ã€‚", category: "leader" },
      { text: "æ„è¦‹ã‚’ã¯ã£ãã‚Šä¼ãˆã‚‹æ–¹ã ã€‚", category: "leader" },
      { text: "å‘¨å›²ã‚’å¼•ã£å¼µã‚‹ã‚ˆã‚Šæ”¯ãˆã‚‹æ–¹ãŒå¤šã„ã€‚", category: "nonleader" },
      { text: "ã‚ã¾ã‚Šç›®ç«‹ã¡ãŸããªã„ã€‚", category: "nonleader" },
      { text: "è‡ªåˆ†ã‚ˆã‚Šä»–äººã‚’å„ªå…ˆã™ã‚‹ã“ã¨ãŒå¤šã„ã€‚", category: "nonleader" },
      { text: "è‡ªç„¶ã‚„èŠ¸è¡“ã«è§¦ã‚Œã‚‹ã®ãŒå¥½ãã ã€‚", category: "nature" },
      { text: "ç¾ã—ã„é¢¨æ™¯ã‚’è¦‹ã¦æ„Ÿå‹•ã™ã‚‹ã€‚", category: "nature" },
      { text: "æ¤ç‰©ã‚„å‹•ç‰©ã«ç™’ã•ã‚Œã‚‹ã€‚", category: "nature" },
      { text: "æ©Ÿæ¢°ã‚„ãƒ†ã‚¯ãƒãƒ­ã‚¸ãƒ¼ã«èˆˆå‘³ãŒã‚ã‚‹ã€‚", category: "science" },
      { text: "ç§‘å­¦çš„ãªè€ƒãˆæ–¹ãŒå¾—æ„ã ã€‚", category: "science" },
      { text: "ãƒ‡ãƒ¼ã‚¿ã‚„æ•°å­—ã‚’åˆ†æã™ã‚‹ã®ãŒå¥½ãã€‚", category: "science" },
      { text: "å›°ã£ã¦ã„ã‚‹äººã‚’è¦‹ã‚‹ã¨åŠ©ã‘ãŸããªã‚‹ã€‚", category: "agreeable" },
      { text: "ä»–äººã®æ„è¦‹ã‚’å°Šé‡ã™ã‚‹ã‚ˆã†ã«ã—ã¦ã„ã‚‹ã€‚", category: "agreeable" },
      { text: "ä»–äººã®æ„Ÿæƒ…ã«æ•æ„Ÿã ã¨æ€ã†ã€‚", category: "agreeable" },
      { text: "äº›ç´°ãªã“ã¨ã§ç·Šå¼µã™ã‚‹ã“ã¨ãŒã‚ã‚‹ã€‚", category: "neurotic" },
      { text: "è½ã¡è¾¼ã‚“ã æ°—åˆ†ãŒé•·å¼•ãã“ã¨ãŒå¤šã„ã€‚", category: "neurotic" },
      { text: "ç´°ã‹ã„ã“ã¨ãŒæ°—ã«ãªã£ã¦ã—ã¾ã†ã€‚", category: "neurotic" },
      { text: "ç´„æŸã¯å¿…ãšå®ˆã‚‹ã‚ˆã†ã«ã—ã¦ã„ã‚‹ã€‚", category: "conscientious" },
      { text: "ä½•äº‹ã‚‚çœŸé¢ç›®ã«å–ã‚Šçµ„ã‚€æ–¹ã ã€‚", category: "conscientious" },
      { text: "è¨ˆç”»é€šã‚Šã«é€²ã‚ã‚‹ã®ãŒå¥½ãã ã€‚", category: "conscientious" }
    ];

    function shuffleArray(array) {
      for (let i = array.length - 1; i > 0; i--) {
        const j = Math.floor(Math.random() * (i + 1));
        [array[i], array[j]] = [array[j], array[i]];
      }
    }

    shuffleArray(questions);

    const scores = {
      extraversion: 0, introversion: 0,
      progressive: 0, conservative: 0,
      leader: 0, nonleader: 0,
      nature: 0, science: 0,
      agreeable: 0, neurotic: 0, conscientious: 0
    };

    const quizContainer = document.getElementById('quiz');
    questions.forEach((q, i) => {
      const questionDiv = document.createElement('div');
      questionDiv.className = 'question';
      questionDiv.innerHTML = `<p><strong>è³ªå•${i + 1}</strong>: ${q.text}</p>`;
      const answerDiv = document.createElement('div');
      answerDiv.className = 'answers';
      ["ã‚ã¦ã¯ã¾ã‚‹", "ã©ã¡ã‚‰ã§ã‚‚ãªã„", "ã‚ã¦ã¯ã¾ã‚‰ãªã„"].forEach((choice, index) => {
        const button = document.createElement('button');
        button.textContent = choice;
        button.onclick = () => {
          Array.from(answerDiv.children).forEach(btn => btn.classList.remove('selected'));
          button.classList.add('selected');
          button.dataset.score = [1, 0, -1][index];
        };
        answerDiv.appendChild(button);
      });
      questionDiv.appendChild(answerDiv);
      quizContainer.appendChild(questionDiv);
    });
    function showResult() {
      Object.keys(scores).forEach(k => scores[k] = 0);
      document.querySelectorAll('.question').forEach((q, i) => {
        const selected = q.querySelector('button.selected');
        if (selected) {
          const score = parseInt(selected.dataset.score);
          scores[questions[i].category] += score;
        }
      });

      const results = [
        {
          title: "æ€§æ ¼ã‚¿ã‚¤ãƒ—â‘ ï¼šå†…å‘ãƒ»å¤–å‘",
          value: scores.extraversion >= scores.introversion ? "å¤–å‘çš„" : "å†…å‘çš„",
          detail: scores.extraversion >= scores.introversion ? "ã‚ãªãŸã¯ç¤¾äº¤çš„ã§ã€ä»–äººã¨é–¢ã‚ã‚‹ã“ã¨ã§ã‚¨ãƒãƒ«ã‚®ãƒ¼ã‚’å¾—ã‚‹ã‚¿ã‚¤ãƒ—ã§ã™ã€‚" : "ã‚ãªãŸã¯é™ã‹ãªç’°å¢ƒã‚„ä¸€äººã®æ™‚é–“ã‚’å¥½ã¿ã€å†…é¢ã®ä¸–ç•Œã‚’å¤§åˆ‡ã«ã™ã‚‹ã‚¿ã‚¤ãƒ—ã§ã™ã€‚",
          color: scores.extraversion >= scores.introversion ? "#ffe082" : "#b3e5fc",
          image: scores.extraversion >= scores.introversion ? "ğŸ—£ï¸" : "ğŸ“š"
        },
        {
          title: "æ€§æ ¼ã‚¿ã‚¤ãƒ—â‘¡ï¼šä¿å®ˆãƒ»å…ˆé€²",
          value: scores.progressive >= scores.conservative ? "å…ˆé€²çš„" : "ä¿å®ˆçš„",
          detail: scores.progressive >= scores.conservative ? "ã‚ãªãŸã¯æ–°ã—ã„ã‚¢ã‚¤ãƒ‡ã‚¢ã‚„æŒ‘æˆ¦ã‚’å¥½ã¿ã€é©æ–°çš„ãªæ€è€ƒã‚’æŒã£ã¦ã„ã¾ã™ã€‚" : "ã‚ãªãŸã¯å®‰å®šã‚„ä¼çµ±ã‚’å¤§åˆ‡ã«ã—ã€æ…é‡ã§ç€å®Ÿãªè€ƒãˆæ–¹ã‚’ã—ã¾ã™ã€‚",
          color: scores.progressive >= scores.conservative ? "#c5e1a5" : "#d7ccc8",
          image: scores.progressive >= scores.conservative ? "ğŸš€" : "ğŸ¡"
        },
        {
          title: "æ€§æ ¼ã‚¿ã‚¤ãƒ—â‘¢ï¼šä¸»å°ãƒ»æ”¯æ´",
          value: scores.leader >= scores.nonleader ? "ãƒªãƒ¼ãƒ€ãƒ¼ã‚¿ã‚¤ãƒ—" : "ã‚µãƒãƒ¼ãƒˆã‚¿ã‚¤ãƒ—",
          detail: scores.leader >= scores.nonleader ? "ã‚ãªãŸã¯å‘¨å›²ã‚’å¼•ã£å¼µã‚‹åŠ›ãŒã‚ã‚Šã€ãƒªãƒ¼ãƒ€ãƒ¼ã‚·ãƒƒãƒ—ã‚’ç™ºæ®ã—ã¾ã™ã€‚" : "ã‚ãªãŸã¯ä»–è€…ã‚’æ”¯ãˆã‚‹ã“ã¨ã«é•·ã‘ã¦ã„ã¦ã€å”èª¿æ€§ãŒé«˜ã„ã§ã™ã€‚",
          color: scores.leader >= scores.nonleader ? "#ffccbc" : "#dcedc8",
          image: scores.leader >= scores.nonleader ? "ğŸ‘‘" : "ğŸ§°"
        },
        {
          title: "æ€§æ ¼ã‚¿ã‚¤ãƒ—â‘£ï¼šè‡ªç„¶ãƒ»ç§‘å­¦",
          value: scores.nature >= scores.science ? "è‡ªç„¶æ´¾" : "ç§‘å­¦æ´¾",
          detail: scores.nature >= scores.science ? "ã‚ãªãŸã¯æ„Ÿæ€§ã‚„è‡ªç„¶ã‚’é‡è¦–ã—ã€ç¾çš„ä½“é¨“ã‚’å¤§åˆ‡ã«ã—ã¾ã™ã€‚" : "ã‚ãªãŸã¯è«–ç†çš„ã§åˆ†æçš„ãªæ€è€ƒã«å„ªã‚Œã€çŸ¥çš„æ¢ç©¶å¿ƒãŒå¼·ã„ã§ã™ã€‚",
          color: scores.nature >= scores.science ? "#c8e6c9" : "#b3e5fc",
          image: scores.nature >= scores.science ? "ğŸŒ¿" : "ğŸ”¬"
        },
        {
          title: "æ€§æ ¼ã‚¿ã‚¤ãƒ—â‘¤ï¼šå”èª¿æ€§",
          value: scores.agreeable >= 2 ? "å”èª¿çš„" : scores.agreeable <= -2 ? "ã‚„ã‚„è‡ªå·±ä¸­å¿ƒçš„" : "ä¸­ç«‹",
          detail: scores.agreeable >= 2 ? "ã‚ãªãŸã¯ä»–äººã«å„ªã—ãã€æ€ã„ã‚„ã‚Šã‚’æŒã£ã¦æ¥ã™ã‚‹å‚¾å‘ãŒã‚ã‚Šã¾ã™ã€‚" : scores.agreeable <= -2 ? "ã‚ãªãŸã¯è‡ªåˆ†ã®æ„å¿—ã‚’å„ªå…ˆã—ã‚„ã™ãã€ç‹¬ç«‹å¿ƒãŒå¼·ã„å‚¾å‘ãŒã‚ã‚Šã¾ã™ã€‚" : "å”èª¿ã¨è‡ªå·±ä¸»å¼µã®ãƒãƒ©ãƒ³ã‚¹ã‚’ã¨ã£ãŸã‚¿ã‚¤ãƒ—ã§ã™ã€‚",
          color: scores.agreeable >= 2 ? "#f8bbd0" : scores.agreeable <= -2 ? "#e1bee7" : "#f0f4c3",
          image: scores.agreeable >= 2 ? "ğŸ¤" : scores.agreeable <= -2 ? "ğŸ—¯ï¸" : "âš–ï¸"
        },
        {
          title: "æ€§æ ¼ã‚¿ã‚¤ãƒ—â‘¥ï¼šæ„Ÿæƒ…å®‰å®šæ€§",
          value: scores.neurotic >= 2 ? "ç¥çµŒè³ªå‹" : scores.neurotic <= -2 ? "å®‰å®šå‹" : "ä¸­ç«‹",
          detail: scores.neurotic >= 2 ? "ã‚ãªãŸã¯æ„Ÿæƒ…ã®æ³¢ãŒå¤§ããã€ã‚¹ãƒˆãƒ¬ã‚¹ã«æ•æ„Ÿãªä¸€é¢ãŒã‚ã‚Šã¾ã™ã€‚" : scores.neurotic <= -2 ? "ã‚ãªãŸã¯è½ã¡ç€ã„ã¦ã„ã¦ã€å¤šå°‘ã®ã‚¹ãƒˆãƒ¬ã‚¹ã«ã‚‚å†·é™ã«å¯¾å‡¦ã§ãã¾ã™ã€‚" : "çŠ¶æ³ã«ã‚ˆã‚Šæ°—åˆ†ãŒå·¦å³ã•ã‚Œã‚‹ã“ã¨ãŒã‚ã‚Šã¾ã™ã€‚",
          color: scores.neurotic >= 2 ? "#ffe0b2" : scores.neurotic <= -2 ? "#dcedc8" : "#f5f5f5",
          image: scores.neurotic >= 2 ? "ğŸ˜Ÿ" : scores.neurotic <= -2 ? "ğŸ˜Œ" : "ğŸ˜"
        },
        {
          title: "æ€§æ ¼ã‚¿ã‚¤ãƒ—â‘¦ï¼šèª å®Ÿæ€§",
          value: scores.conscientious >= 2 ? "èª å®Ÿå‹" : scores.conscientious <= -2 ? "è‡ªç”±å‹" : "ä¸­ç«‹",
          detail: scores.conscientious >= 2 ? "ã‚ãªãŸã¯è²¬ä»»æ„ŸãŒå¼·ãã€çœŸé¢ç›®ã«ç‰©äº‹ã«å–ã‚Šçµ„ã¿ã¾ã™ã€‚" : scores.conscientious <= -2 ? "ã‚ãªãŸã¯æŸ”è»Ÿæ€§ãŒã‚ã‚Šã€è‡ªç”±ãªç™ºæƒ³ã‚„è¡Œå‹•ã‚’é‡è¦–ã—ã¾ã™ã€‚" : "è¨ˆç”»æ€§ã¨è‡ªç”±ã•ã®ãƒãƒ©ãƒ³ã‚¹ã‚’æŒã£ã¦ã„ã¾ã™ã€‚",
          color: scores.conscientious >= 2 ? "#b2dfdb" : scores.conscientious <= -2 ? "#ffe082" : "#e0e0e0",
          image: scores.conscientious >= 2 ? "ğŸ“‹" : scores.conscientious <= -2 ? "ğŸŒ€" : "âš™ï¸"
        }
      ];

      const resultDiv = document.getElementById("result");
      resultDiv.innerHTML = "<h2>ã‚ãªãŸã®è¨ºæ–­çµæœï¼š</h2>" +
        results.map(r => `<div class='result-category' style="border-left-color:${r.color}; background-color:${r.color}33; background-image: url('https://source.unsplash.com/400x200/?${encodeURIComponent(r.value)}');">
          <h3>${r.image} ${r.title}</h3><strong>${r.value}</strong><p>${r.detail}</p></div>`).join('') +
        `<a class='share-button' href="https://twitter.com/intent/tweet?text=ç§ã®æ€§æ ¼è¨ºæ–­çµæœï¼%0A${results.map(r => r.title + ' ' + r.value).join('%0A')}%0A" target="_blank">Xï¼ˆæ—§Twitterï¼‰ã§å…±æœ‰ã™ã‚‹</a>`;
    }
  </script>
</body>
</html>
